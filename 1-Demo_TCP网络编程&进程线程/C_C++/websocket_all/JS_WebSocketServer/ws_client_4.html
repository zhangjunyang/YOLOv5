<!DOCTYPE html>  
<html>  
<head>  
<meta charset="UTF-8">
</head>  
<body>  
    <div>  
        <input type="submit" value="Start" onclick="start()" />  
    </div>  
    <div id="messages"></div>  
    <script type="text/javascript">  
        //var webSocket =  new WebSocket('ws://localhost:8080/testWebSocketProtocol/websocket');
        var webSocket =  new WebSocket('ws://localhost:9002');
  
        webSocket.onerror = function(event) {  
            onError(event)  
        };  
  
        webSocket.onopen = function(event) {  
            onOpen(event)  
        };  
  
        webSocket.onmessage = function(event) {  
            onMessage(event)  
        };  
  
        function onMessage(event) {  
            document.getElementById('messages').innerHTML   
                += '<br />Get Message From Server: ' + event.data;  
        }  
  
        function onOpen(event) {  
            document.getElementById('messages').innerHTML   
                = 'Connection established';  
        }  
  
        function onError(event) {  
            alert(event.data);  
            alert("error");  
        }  
  
        function start() {  
            webSocket.send('hello');  
            return false;  
        }  
    </script>  
</body>  
</html> 